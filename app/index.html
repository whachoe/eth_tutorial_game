<!DOCTYPE html>
<html>
<head>
    <title>Guess daNumber - Ethereum DEMO</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <script src="./wheel.js"></script>
    <script src="./app.js"></script>
</head>
<body>
<h2>Ethereum Dapp DEMO</h2>
<div class="info">
    Guess the secret number in the Ethereum contract and you will receive double your stake.<br/>
    Each guess costs <b>1</b> ETH.
</div>
<h3>Money in the bank: <br/><span class="black"><span id="bank"></span> Wei (= <span id="bankEth"></span> ETH)</span></h3>
<h3>You have <br/><span class="black"><span id="balance"></span> Wei (= <span id="balanceEth"></span> ETH)</span></h3>
<label for="address">Your ETH address:</label><input type="text" id="address" placeholder="ex: 0x600f95967ec1f375a4f45c5db451c5243e166fbe" /></body>

<canvas id="wheel"></canvas>
<br><br>
<button id="send" onclick="spinDaWheel()" disabled="disabled">GO!</button>
<br><br>
<span id="status"></span>
<br><br/><br/><br/>
<span class="hint"><strong>Hint:</strong> open the browser developer console to view any errors and warnings.</span>

<script type="text/javascript">
    function getRandomColor() {
        var letters = '0123456789ABCDEF';
        var color = '#';
        for (var i = 0; i < 6; i++ ) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }

    function spinDaWheel() {
        wheel.spin(function(member) {
            console.log('Guessing: ' + member);
            App.guessNumber(member);
        });
    }

    // Spinning wheel
    var numberarray = [];
    var colors = [];
    for (var i=1; i< 51; i++) {
        numberarray[i] = i;
        colors[i] = getRandomColor();
    }

    var settings = {
        el: 'wheel',
        members: numberarray,
        colors: colors,
        radius: 250,
        textRadius: 220
    };

    var wheel = new Wheel(settings);

    wheel.init();
</script>
</body>
</html>